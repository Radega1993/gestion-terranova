---
description: 
globs: 
alwaysApply: true
---
# SaaS - Gesti√≥n de Asociaci√≥n de Vecinos

Este proyecto es una aplicaci√≥n SaaS para la gesti√≥n integral de una asociaci√≥n de vecinos. Permite controlar los accesos y acciones de distintos tipos de usuarios, gestionar socios, inventario del bar, ventas mediante TPV, reservas de instalaciones e invitaciones anuales.

## üß† Tecnolog√≠as

- **Frontend**: React + TypeScript
- **Backend**: NestJS + TypeScript
- **Base de Datos**: MongoDB

## üë• Tipos de usuario

- `ADMINISTRADOR`: acceso total al sistema.
- `JUNTA`: acceso limitado a gesti√≥n de socios, reservas e invitaciones.
- `TRABAJADOR`: acceso a inventario, TPV y reservas.

## üîß M√≥dulos del sistema

### 1. Autenticaci√≥n (auth)

Control de login, registro y autorizaci√≥n por roles.

- Usuario: `username`, `password`, `role`
- Funciones:
  - Login
  - Registro
  - Recuperar contrase√±a
  - Validaci√≥n de token

---

### 2. Gesti√≥n de Socios (socios)

Gesti√≥n CRUD de los socios activos de la asociaci√≥n.

- Socio:
- Funciones:
  - Crear, editar y eliminar socios
  - Ver historial de actividad (reservas, invitaciones, compras)

---

### 3. Inventario (inventario)

M√≥dulo para registrar y mantener el stock del bar.

- Producto:
- Funciones:
  - A√±adir, editar y eliminar productos
  - Ajustar stock
  - Historial de movimientos

---

### 4. TPV (tpv)

Registro de ventas realizadas en el bar por los trabajadores.

- Venta:
- Funciones:
  - Crear venta (socio + productos)
  - Historial de ventas por socio o trabajador

---

### 5. Reservas (reservas)

Reservas de espacios como barbacoa, piscina, sala com√∫n, etc.

- Reserva:
- Funciones:
  - Crear, modificar y cancelar reserva
  - Ver disponibilidad
- Reglas:
  - Solo socios activos pueden reservar
  - Algunas reservas requieren aprobaci√≥n

---

### 6. Invitaciones (invitaciones)

Cada socio dispone de 12 invitaciones por a√±o.

- Invitaci√≥n: `socio_id`, `fecha_uso`, `nombre_invitado`
- Funciones:
  - Registrar uso de invitaci√≥n
  - Mostrar contador de invitaciones restantes
- Reglas:
  - M√°ximo de 12 invitaciones por a√±o
  - No se pueden usar m√°s de las disponibles

---

## üñ•Ô∏è Interfaz de Usuario

- `/login`: inicio de sesi√≥n
- `/dashboard`: resumen general (cambia seg√∫n rol)
- `/socios`: listado y gesti√≥n
- `/inventario`: stock del bar
- `/tpv`: punto de venta para trabajadores
- `/reservas`: formulario y calendario de reservas
- `/invitaciones`: gesti√≥n de invitaciones por socio

---

## üîê Permisos por Rol

| M√≥dulo       | ADMINISTRADOR | JUNTA | TRABAJADOR |
|--------------|---------------|-------|------------|
| Auth         | ‚úÖ             | ‚úÖ    | ‚úÖ         |
| Socios       | ‚úÖ             | ‚úÖ    | ‚ùå         |
| Inventario   | ‚úÖ             | ‚ùå    | ‚úÖ         |
| TPV          | ‚úÖ             | ‚ùå    | ‚úÖ         |
| Reservas     | ‚úÖ             | ‚úÖ    | ‚úÖ         |
| Invitaciones | ‚úÖ             | ‚úÖ    | ‚ùå         |
